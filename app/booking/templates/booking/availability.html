{% extends 'home/base.html' %}

{% block body %}

<style>
    . list{
        width: 100%;
        height: 50%;
    }
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;}

    . list{
        width: 100%;
        height: 50%;
    }
.collapsible {
    background-color: #ffce14;
    color: black;
    cursor: pointer;
    padding: 12px;
    width: 15%;
    border: none;
    text-align: center;
    outline: none;
}

.book {
    background-color: #ffce14;
    color: black;
    cursor: pointer;
    padding: 12px;
    width: 15%;
    border: none;
    text-align: center;
    outline: none;
}

.active, .collapsible:hover {
    background-color: #ffce14;
}

.content {
    padding: 0 18px;
    display: none;
    overflow: hidden;
    background-color: white;}
</style>




    <br>
    <br>
    <br>
    <br>

    {% if messages %}
        {% for message in messages %}

            <div class="alert alert-info">
                <strong style="text-align: center">{{ message }}</strong>

                <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true">&times;</span></button>
            </div>

        {% endfor %}
    {% endif %}





<div class="plans-section" id="rooms">
				 <div class="container">
				 <h3 class="title-w3-agileits title-black-wthree">Availability of Rooms</h3>
						<div class="priceing-table-main">


                            {% for room in rooms %}

                                {% if  room.no_rooms == 0 %}

                                    <div class="list price-grid wthree lost">
                                        <div class="price-block agile">
                                            <div class="price-gd-top " >
                                                <h4 style="margin-top: -170px";>#{{ room.no_rooms }} Rooms </h4>
                                            </div>
                                            <div class="price-gd-bottom">
                                                <br>
                                                <div class="price-selet">
                                                    <h3><span>#</span> Sorry Rooms are Not Available @ {{ room.G.name }}</h3>
                                                    <a href="{% url 'home' %}" >Go Back</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div><br><br><br>

                                {% else %}

                                    <div class="list price-grid wthree lost">
                                        <div class="price-block agile">
                                            <div class="price-gd-top " >
                                                <h4 style="margin-top: -170px";>#{{ room.no_rooms }} Rooms </h4>
                                            </div>
                                            <div class="price-gd-bottom">
                                                <br>
                                                <div class="price-selet">
                                                    <h3><span>#</span> Available @ {{ room.G.name }}</h3>
                                                    <button class="collapsible">Details</button>
                                                    <div class="content"><br><br><br>
                                                      <table>
                                                          <tr style="background-color: #0f2453">
                                                            <th style="color: white">Rooms Types</th>
                                                            <th style="color: white">Number of Rooms Available</th>
{#                                                            <th style="color: white">Number of Guests</th>#}
{#                                                            <th style="color: white">Number of Rooms Required</th>#}
                                                            <th style="color: white">Book</th>
                                                          </tr>

                                                          {% for r in room.rooms %}
                                                          <tr>
                                                            <td>{{ r.type }}</td>
                                                            <td>{{ r.count }}</td>
                                                            <td><a class="form-control" href="{% url 'login' %}">Book</a></td>

                                                          </tr>
                                                              {% endfor %}
                                                      </table>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div><br><br><br>

                                {% endif %}



                            {% endfor %}
				<div class="clearfix"> </div>
			</div>
		</div>
	</div>

        <script>
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var content = this.nextElementSibling;
    if (content.style.display === "block") {
      content.style.display = "none";
    } else {
      content.style.display = "block";
    }
  });
}
</script>
{% endblock %}